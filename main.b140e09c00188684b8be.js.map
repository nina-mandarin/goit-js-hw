{"version":3,"sources":["webpack:///./templates/image.hbs","webpack:///./js/notification.js","webpack:///./js/services/image-service.js","webpack:///./js/preloader.js","webpack:///./js/gallery.js"],"names":["Handlebars","__webpack_require__","module","exports","template","compiler","main","container","depth0","helpers","partials","data","propertyIsEnumerable","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","escapeExpression","id","call","name","hash","loc","start","line","column","end","webformatURL","largeImageURL","likes","views","comments","downloads","useData","PNotify","defaults","styling","icons","infoNotification","info","title","text","hide","successNotification","success","errorNotification","error","image_service","page","query","fetchImages","_this","this","requestUrl","fetch","then","res","json","incrementPage","hits","resetPage","preloader","document","querySelector","js_preloader","show","classList","remove","add","refs","input","gallery","loadMoreButton","getQuery","imageService","images","length","markup","map","item","imageTemplate","join","insertAdjacentHTML","Array","from","querySelectorAll","imgItem","src","getAttribute","modalItem","basicLightbox","onclick","createGalleryItems","window","scrollTo","top","body","scrollHeight","behavior","catch","err","console","addEventListener","_","debounce","e","inputValue","target","value","innerHTML"],"mappings":"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","file":"main.b140e09c00188684b8be.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<li class=\\\"gallery-item\\\">\\r\\n  <div class=\\\"photo-card\\\" id=\\\"img-\"\n    + alias5(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":34},\"end\":{\"line\":2,\"column\":40}}}) : helper)))\n    + \"\\\">\\r\\n    <img src=\\\"\"\n    + alias5(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" data-src=\\\"\"\n    + alias5(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":49},\"end\":{\"line\":3,\"column\":66}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":8},\"end\":{\"line\":8,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">visibility</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":8},\"end\":{\"line\":12,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">comment</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":8},\"end\":{\"line\":16,\"column\":20}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":8},\"end\":{\"line\":20,\"column\":21}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\";\n},\"useData\":true});","import PNotify from 'pnotify/dist/es/PNotify';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\n\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\n\r\nexport const infoNotification = () => {\r\n  return PNotify.info({\r\n    title: 'Info',\r\n    text: \"Images didn't find\",\r\n    hide: false,\r\n  });\r\n};\r\n\r\nexport const successNotification = () => {\r\n  return PNotify.success({\r\n    title: 'Success!',\r\n    text: 'Images found',\r\n  });\r\n};\r\n\r\nexport const errorNotification = () => {\r\n  return PNotify.error({\r\n    title: 'Oops',\r\n    text: 'Something went wrong',\r\n    hide: false,\r\n  });\r\n};\r\n","const baseUrl = 'https://pixabay.com/api/';\r\nconst key = '14230040-8f4217119aa6e0fd5b0363ac7';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  fetchImages() {\r\n    const requestUrl = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=`;\r\n    return fetch(baseUrl + requestUrl + key)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.incrementPage();\r\n        return data.hits;\r\n      });\r\n  },\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","const preloader = document.querySelector('.preloader');\r\n\r\nexport default {\r\n  show() {\r\n    preloader.classList.remove('is-hidden');\r\n  },\r\n  hide() {\r\n    preloader.classList.add('is-hidden');\r\n  },\r\n};\r\n","import _ from 'lodash';\r\nimport {\r\n  infoNotification,\r\n  successNotification,\r\n  errorNotification,\r\n} from './notification';\r\nimport imageTemplate from '../templates/image.hbs';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport imageService from './services/image-service';\r\nimport preloader from './preloader';\r\n\r\nconst refs = {\r\n  input: document.querySelector('#search-form input'),\r\n  gallery: document.querySelector('#gallery'),\r\n  loadMoreButton: document.querySelector('.button-load'),\r\n};\r\n\r\nrefs.input.addEventListener('input', _.debounce(searchImages, 500));\r\nrefs.loadMoreButton.addEventListener('click', loadMore);\r\n\r\n// Functions\r\nfunction searchImages(e) {\r\n  const inputValue = e.target.value;\r\n  clearGallery();\r\n  imageService.resetPage();\r\n  if (inputValue === '') {\r\n    refs.loadMoreButton.classList.remove('active');\r\n    return;\r\n  }\r\n  imageService.query = inputValue;\r\n  getQuery();\r\n}\r\n\r\nfunction getQuery() {\r\n  preloader.show();\r\n  imageService\r\n    .fetchImages()\r\n    .then(images => {\r\n      if (images.length === 0) {\r\n        infoNotification();\r\n        preloader.hide();\r\n        return;\r\n      }\r\n      successNotification();\r\n      preloader.hide();\r\n      createGalleryItems(images);\r\n      pageScroll();\r\n      refs.loadMoreButton.classList.add('active');\r\n    })\r\n    .catch(err => {\r\n      errorNotification();\r\n      preloader.hide();\r\n      console.error(err);\r\n    });\r\n}\r\n\r\n// Template\r\nfunction createGalleryItems(images) {\r\n  const markup = images.map(item => imageTemplate(item)).join('');\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n  createModal();\r\n}\r\n\r\nfunction clearGallery() {\r\n  refs.gallery.innerHTML = '';\r\n}\r\n\r\n// Load more button\r\nfunction loadMore() {\r\n  getQuery();\r\n}\r\n\r\n// Modal\r\nfunction createModal() {\r\n  const list = Array.from(document.querySelectorAll('.photo-card'));\r\n  list.map(item => {\r\n    const imgItem = document.querySelector(`#${item.id} img`);\r\n    const src = imgItem.getAttribute('data-src');\r\n    const modalItem = basicLightbox.create(\r\n      `\r\n      <img width=\"1400\" height=\"900\" src=\"${src}\">\r\n    `,\r\n    );\r\n\r\n    imgItem.onclick = () => {\r\n      modalItem.show();\r\n    };\r\n  });\r\n}\r\n\r\n// Scroll\r\nfunction pageScroll() {\r\n  window.scrollTo({\r\n    top: document.body.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n"],"sourceRoot":""}